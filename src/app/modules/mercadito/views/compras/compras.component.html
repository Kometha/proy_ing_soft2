<app-header colorClass="orange"> Reportes </app-header>
<main class="p-5">
  <iframe
    class="w-full h-[80vh] rounded-lg shadow-lg"
    src="https://lookerstudio.google.com/embed/reporting/3be1d3b6-b3ce-4cea-b0fa-8f5b0f337f88/page/ri2sD"
    frameborder="0"
    style="border: 0"
    allowfullscreen
    sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"
  ></iframe>
</main>
<main class="p-5 hidden">
  <header>
    <h1 class="text-2xl">Intereses</h1>
  </header>
  <body class="h-full justify-center items-center">
    <div class="p-3">
      <div class="flex justify-end gap-3">
        <button
          type="button"
          class="focus:outline-none text-white bg-appPrimary-700 hover:bg-appPrimary-600 focus:ring-4 focus:ring-appPrimary-200 font-medium rounded-lg text-sm px-3 py-1.5 transition-all duration-300 ease-in-out hover:shadow-lg"
          (click)="visibleModalIngresarProducto = true"
        >
          Ingresar
        </button>
        <button
          type="button"
          class="focus:outline-none text-white bg-appPrimary-700 hover:bg-appPrimary-600 focus:ring-4 focus:ring-appPrimary-200 font-medium rounded-lg text-sm px-3 py-1.5 transition-all duration-300 ease-in-out hover:shadow-lg"
          (click)="visibleModalGenerarCompra = true"
        >
          Procesar
        </button>
      </div>
    </div>
    <div class="p-3">
      <table
        class="w-full gap-3 text-sm text-left rtl:text-right text-gray-400"
      >
        <thead class="text-xs uppercase bg-gray-700 text-white">
          <tr class="text-base">
            <th scope="col" class="px-6 py-3">Producto</th>
            <th scope="col" class="px-6 py-3">Marca</th>
            <th scope="col" class="px-6 py-3">Sucursal</th>
            <th scope="col" class="px-6 py-3">Unidad</th>
            <th scope="col" class="px-6 py-3">Cantidad</th>
            <th scope="col" class="px-6 py-3">Estado</th>
            <th scope="col" class="px-6 py-3"></th>
          </tr>
        </thead>
        <tbody class="text-base">
          <tr class="border-b bg-gray-800 border-gray-700 hover:bg-gray-600">
            <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">
              Maní Japonés
            </th>
            <td class="px-6 py-4">Apple</td>
            <td class="px-6 py-4">San Pedro Sula</td>
            <td class="px-6 py-4">Libras</td>
            <td class="px-6 py-4">30</td>
            <td class="px-6 py-4">Agotado</td>
            <td class="flex items-center px-6 py-4">
              <div class="flex items-center">
                <p-checkbox value="YourValue" inputId="id"></p-checkbox>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Mantenimiento de producto para ver cuanto rentabilidad se le puede sacar -->
    <p-dialog [(visible)]="visibleModalMantProducto" [modal]="true">
      <ng-template pTemplate="headless">
        <main class="bg-appPrimary-900 p-3 rounded-lg">
          <header class="flex justify-between items-center gap-3">
            <button
              class="rounded-full border p-1 hover:bg-red-500 hover:border-red-200 transition-all duration-300 ease-in-out focus:outline-none"
              (click)="visibleModalMantProducto = false"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="size-4 icon icon-tabler icon-tabler-x"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M18 6l-12 12" />
                <path d="M6 6l12 12" />
              </svg>
            </button>
          </header>
          <section class="p-3">
            <p class="text-appPrimary-200 text-lg font-semibold text-center">
              Maní Japonés
            </p>
            <p class="text-appPrimary-200 text-left">01-02-01-0001</p>
            <p class="text-appPrimary-200 text-left">Apple</p>
            <div class="grid grid-cols-2 gap-3 p-2 mt-3 flex-col">
              <span class="flex flex-col gap-1 w-full">
                <label class="text-sm text-appPrimary-300">
                  Lista de precios:
                </label>
                <input
                  type="text"
                  class="bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                />
              </span>
              <span class="flex flex-col gap-1 w-full">
                <label class="text-sm text-appPrimary-300">
                  Inventarios:
                </label>
                <input
                  type="text"
                  class="bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                />
              </span>
            </div>
            <div class="p-2 mt-1">
              <span class="flex flex-col gap-1 w-full">
                <p class="text-appPrimary-200 text-left">Última Compra:</p>
                <label class="text-sm text-appPrimary-300"> Proveedor: </label>
                <label class="text-sm text-appPrimary-300"> Costo: </label>
                <label class="text-sm text-appPrimary-300"> Fecha: </label>
              </span>
            </div>
            <div class="p-2 mt-1">
              <span class="flex flex-col gap-1 w-full">
                <p class="text-appPrimary-200 text-left">
                  Calculadora de Margen:
                </p>
                <label class="text-sm text-appPrimary-300"> Proveedor: </label>
              </span>
            </div>
          </section>
        </main>
      </ng-template>
    </p-dialog>
    <!-- Modal para confirmar los detalles de la compra -->
    <p-dialog [(visible)]="visibleModalGenerarCompra" [modal]="true">
      <ng-template pTemplate="headless">
        <main class="bg-appPrimary-900 p-3 rounded-lg">
          <header class="flex justify-between items-center gap-3">
            <button
              class="rounded-full border p-1 hover:bg-red-500 hover:border-red-200 transition-all duration-300 ease-in-out focus:outline-none"
              (click)="visibleModalGenerarCompra = false"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="size-4 icon icon-tabler icon-tabler-x"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M18 6l-12 12" />
                <path d="M6 6l12 12" />
              </svg>
            </button>
          </header>
          <section class="mt-3 p-2 grid grid-cols-[70%_30%] gap-3">
            <div>
              <table
                class="w-full gap-3 text-sm text-left rtl:text-right text-gray-400"
              >
                <thead class="text-xs uppercase bg-gray-700 text-white">
                  <tr>
                    <th class="px-4 py-2">PRODUCTO</th>
                    <th class="px-4 py-2">MARCA</th>
                    <th class="px-4 py-2">UNIDAD</th>
                    <th class="px-4 py-2">CANTIDAD</th>
                    <th class="px-4 py-2">COSTO</th>
                    <th class="px-4 py-2">MARGEN</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    class="border-b bg-gray-800 border-gray-700 hover:bg-gray-600"
                  >
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                  </tr>
                  <tr
                    class="border-b bg-gray-800 border-gray-700 hover:bg-gray-600"
                  >
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                  </tr>
                  <tr
                    class="border-b bg-gray-800 border-gray-700 hover:bg-gray-600"
                  >
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                  </tr>
                  <tr
                    class="border-b bg-gray-800 border-gray-700 hover:bg-gray-600"
                  >
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                  </tr>
                  <tr
                    class="border-b bg-gray-800 border-gray-700 hover:bg-gray-600"
                  >
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                    <td class="px-4 py-2">Ejemplo Producto 1</td>
                    <td class="px-4 py-2">Marca 1</td>
                    <td class="px-4 py-2">$100</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="flex flex-col justify-start">
              <span class="flex flex-col gap-1 w-full">
                <label class="text-sm text-appPrimary-300">
                  Descripción de la compra:
                </label>
                <textarea
                  cols="20"
                  rows="5"
                  class="resize-none bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                >
                </textarea>
              </span>

              <span class="flex flex-col gap-1 w-full mt-3">
                <label class="text-sm text-appPrimary-300"> Proveedor: </label>
                <p-dropdown
                  id="proveedor"
                  [options]="proveedores"
                  placeholder="Seleccionar un proveedor"
                  emptyMessage="No hay proveedores disponibles"
                  appendTo="body"
                  [filter]="true"
                  styleClass="p-0 *:p-0 bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                  optionLabel="descripcion"
                  optionValue="id"
                ></p-dropdown>
              </span>
            </div>
          </section>
          <div class="flex justify-end mt-3">
            <button
              pButton
              type="button"
              label="Generar compra"
              class="flex justify-center gap-3 border py-1.5 px-4 hover:bg-green-600 transition-all duration-300 rounded-lg ease-in-out focus:outline-none"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-currency-dollar"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path
                  d="M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2"
                />
                <path d="M12 3v3m0 12v3" />
              </svg>
            </button>
          </div>
        </main>
      </ng-template>
    </p-dialog>

    <p-dialog [(visible)]="visibleModalIngresarProducto" [modal]="true">
      <ng-template pTemplate="headless">
        <main class="bg-appPrimary-900 p-3 rounded-lg">
          <header class="flex justify-between items-center gap-3">
            <button
              class="rounded-full border p-1 hover:bg-red-500 hover:border-red-200 transition-all duration-300 ease-in-out focus:outline-none"
              (click)="visibleModalIngresarProducto = false"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="size-4 icon icon-tabler icon-tabler-x"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M18 6l-12 12" />
                <path d="M6 6l12 12" />
              </svg>
            </button>
          </header>

          <section class="mt-3 p-2 flex-col gap-3 grid grid-cols-2">
            <span class="flex flex-col gap-1 w-full">
              <label for="producto" class="text-sm text-appPrimary-300">
                Producto:
              </label>
              <p-dropdown
                id="productos"
                [options]="productos"
                placeholder="Seleccionar un producto"
                emptyMessage="No hay productos disponibles"
                appendTo="body"
                [filter]="true"
                styleClass="p-0 *:p-0 bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                optionLabel="descripcion"
                optionValue="id"
              ></p-dropdown>
            </span>
            <span class="flex flex-col gap-1 w-full">
              <label for="apellido" class="text-sm text-appPrimary-300">
                Unidad:
              </label>
              <p-dropdown
                id="tipoUnidades"
                [options]="tipoUnidades"
                placeholder="Seleccionar una unidad"
                emptyMessage="No hay unidades disponibles"
                appendTo="body"
                styleClass="p-0 *:p-0 bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                optionLabel="descripcion"
                optionValue="id"
              ></p-dropdown>
            </span>

            <span class="flex flex-col gap-1 w-full">
              <label for="email" class="text-sm text-appPrimary-300">
                Marca:
              </label>
              <p-dropdown
                id="marcas"
                [options]="marcas"
                placeholder="Seleccionar una marca"
                [filter]="true"
                emptyMessage="No hay marcas disponibles"
                appendTo="body"
                styleClass="p-0 *:p-0 bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                optionLabel="descripcion"
                optionValue="id"
              ></p-dropdown>
            </span>

            <span class="flex flex-col gap-1 w-full">
              <label for="telefono" class="text-sm text-appPrimary-300">
                Cantidad:
              </label>
              <input
                id="cantidad"
                type="number"
                class="bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
              />
            </span>

            <span class="flex flex-col gap-1 w-full">
              <label for="alias" class="text-sm text-appPrimary-300">
                Sucursal
              </label>
              <p-dropdown
                id="sucursales"
                [options]="marcas"
                placeholder="Seleccionar una sucursal"
                [filter]="true"
                emptyMessage="No hay sucursales disponibles"
                appendTo="body"
                styleClass="p-0 *:p-0 bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                optionLabel="descripcion"
                optionValue="id"
              ></p-dropdown>
            </span>

            <span class="flex flex-col gap-1 w-full">
              <label for="password" class="text-sm text-appPrimary-300">
                Estado:
              </label>
              <p-dropdown
                id="marcas"
                [options]="marcas"
                placeholder="Seleccionar un estado"
                [filter]="true"
                emptyMessage="No hay marcas disponibles"
                appendTo="body"
                styleClass="p-0 *:p-0 bg-appPrimary-800 border border-appPrimary-300 text-appPrimary-100 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-appPrimary-400 transition-all duration-200 ease-in-out w-full"
                optionLabel="descripcion"
                optionValue="id"
              ></p-dropdown>
            </span>
          </section>
          <div class="flex justify-center mt-3">
            <button
              pButton
              type="button"
              label="Agregar"
              class="flex justify-center gap-3 border py-1.5 px-4 hover:bg-green-600 transition-all duration-300 rounded-lg ease-in-out focus:outline-none"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-plus"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M12 5l0 14" />
                <path d="M5 12l14 0" />
              </svg>
            </button>
          </div>
        </main>
      </ng-template>
    </p-dialog>
  </body>
</main>

<p-toast></p-toast>
